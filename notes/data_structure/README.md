# 数据结构算法
---

## 刷题笔记

- 边界和特殊情况的考虑：空集合
- 第一个和最后一个元素的考虑

### 找重复的数

**1. ** 给定一个长度为 n 的整数数组 `nums`，数组中所有的数字都在 0∼n−1的范围内。

数组中某些数字是重复的，但不知道有几个数字重复了，也不知道每个数字重复了几次。

请找出数组中任意一个重复的数字。

**注意**：如果某些数字不在 0∼n−1 的范围内，或数组中不包含重复数字，则返回 -1

```c++
// 在O(n)的时间内，找出重复的数
// 关键思想：置换法
class Solution {
public:
    int duplicateInArray(vector<int>& nums) {
        for(int it : nums){
            if(it<0||it>=nums.size()){
                return -1;
            }
        }
        // 占坑法（置位操作）
        for(int i=0;i<nums.size();i++){
            while(i!=nums[i]){
                if(nums[i]==nums[nums[i]]){
                    return nums[i];
                }
                swap(nums[i],nums[nums[i]]);
            }
            
        }

        return -1;
    }
};
```

**2. ** 不修改数组找出重复的数字

给定一个长度为 n+1 的数组`nums`，数组中所有的数均在 1∼n的范围内，其中 n≥1。

请找出数组中任意一个重复的数，但不能修改输入的数组。

#### 数据范围

1≤n≤1000

#### 样例

```bash
给定 nums = [2, 3, 5, 4, 3, 2, 6, 7]。

返回 2 或 3。
```

注意：只能使用 O(1) 的额外空间。

```c++
// 传入的数组是不能修改的，还需要O(1)的额外空间，不能定义数组等其他数据结构
// 1. 抽屉原理判定，1-n的区间，n+1的数==》必有重复的数
// 2. 二分查找区间：不是有序的数组，但是数所在的区间是固定的，可以二分区间，查找数在哪个区间内发生了重复。
// 3. 判定数是否在某个区间内重复的原理：依然是抽屉原理，在[l,m]区间内，数组中所有的在此区间的数如果等于区间长度，那么此区间没有重复；否则，如果在此区间的数的个数如果比区间长度长，说明在此区间发生了重复。
class Solution {
public:
    int duplicateInArray(vector<int>& nums) {
        // 二分法查找
        auto l = 1;
        auto r = nums.size()-1;
        while(l<r){
            auto m = (l+r)/2;
            auto sum = 0;
            for(auto it : nums) {
                sum += (it >=l && it <= m);
            }
            // 如果数组中在[l,m]区间内的数比区间长度多，说明在[l,m]中的某个数重复出现了
            if(sum > m - l + 1){
                r = m;
            }else{
                l = m + 1;
            }
        }
        return l;
    }
};
```

